<header class="site-header">
  <div class="header-inner">
    <!-- Hamburguesa -->
    <button class="menu-toggle"
            (click)="toggleMenu()"
            [class.active]="menuOpen"
            aria-label="Abrir menú">
      <span></span><span></span><span></span>
    </button>

    <!-- Brand -->
    <a class="brand"
       [routerLink]="[ isNutriologo() ? '/nutriologo/dashboard' : '/dashboard' ]">
      ⚡ FitSo
    </a>

    <div class="spacer"></div>

    <div class="user">
      <span class="email" *ngIf="correo">{{ correo }}</span>
      <button class="btn-logout" (click)="logout()">Salir</button>
    </div>
  </div>

  <!-- Menú lateral -->
  <nav class="drawer" [class.open]="menuOpen" role="navigation" aria-label="Menú principal">
    <div class="drawer-header">
      <span class="brand-mini">⚡ FitSo</span>
      <button class="close" (click)="closeMenu()" aria-label="Cerrar menú">×</button>
    </div>

    <ul class="drawer-list">
      <!-- Opciones para CLIENTE -->
      <ng-container *ngIf="!isNutriologo(); else nutriMenu">
        <li>
          <a (click)="go('/dashboard')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('dashboard')"></span>
            <span class="label">Dashboard</span>
          </a>
        </li>
        <li>
          <a (click)="go('/profile/cliente')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('profile')"></span>
            <span class="label">Mi Perfil</span>
          </a>
        </li>
        <li>
          <a (click)="go('/progreso')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('progress')"></span>
            <span class="label">Mi Progreso</span>
          </a>
        </li>
        <li>
          <a (click)="go('/dietas')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('dietas')"></span>
            <span class="label">Mis Dietas</span>
          </a>
        </li>
        <li>
          <a (click)="go('/nutriologos')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('nutriologos')"></span>
            <span class="label">Nutriólogos</span>
          </a>
        </li>
        <li class="separator"></li>
        <li>
          <a (click)="go('/mensajes')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('mensajes')"></span>
            <span class="label">Mensajes</span>
          </a>
        </li>
      </ng-container>

      <!-- Opciones para NUTRIÓLOGO -->
      <ng-template #nutriMenu>
        <li>
          <a (click)="go('/nutriologo/dashboard')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('dashboard')"></span>
            <span class="label">Dashboard</span>
          </a>
        </li>
        <li>
          <a (click)="go('/profile/nutriologo')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('profile')"></span>
            <span class="label">Mi Perfil</span>
          </a>
        </li>
        <li>
          <a (click)="go('/pacientes')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('pacientes')"></span>
            <span class="label">Mis Pacientes</span>
          </a>
        </li>
        <li class="separator"></li>
        <li>
          <a (click)="go('/mensajes')" class="menu-item">
            <span class="icon" [innerHTML]="getIcon('mensajes')"></span>
            <span class="label">Mensajes</span>
          </a>
        </li>
      </ng-template>
    </ul>
  </nav>

  <!-- Overlay - SOLO SE MUESTRA CUANDO MENÚ ESTÁ ABIERTO -->
  <div class="overlay" 
       *ngIf="menuOpen" 
       (click)="closeMenu()"></div>
</header>